# Не рассмотренные темы и понятия
- История развития C++, детальное сравнение C и C++, философия C++. [Википедия, Дизайн и эволюция языка C++. Б. Страуструп. 2016 г.]
- **
- макросы (ну и хорошо)
- преобразование типов (не явное, явное [https://ravesli.com/urok-56-yavnoe-preobrazovanie-tipov-dannyh-operatory-casts/]), сильная и слабая типизация [https://habr.com/ru/post/161205/], типобезопасность [https://ru.wikipedia.org/wiki/%D0%A2%D0%B8%D0%BF%D0%BE%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C]
- оператор `,`
- Поиск, зависящий от аргументов (argument-depend lookup, ADL) или поиск Кёнига
- битовые операции (bitwise operations)
- constexpr (https://docs.microsoft.com/ru-ru/cpp/cpp/constexpr-cpp?view=msvc-160) и другие вычисления во время компиляции
- способы записи литералов [https://ravesli.com/urok-36-literaly-magicheskie-chisla/, https://en.cppreference.com/w/cpp/language/integer_literal]
- inlune функции [https://ravesli.com/urok-101-vstroennye-funktsii/]
- определение типов во время компиляции, typeid, decltype, ...
- auto в формальных параметрах и возвращаемом типе функций, распаковка в кортеж (tuple)
- extern [http://www.c-cpp.ru/books/extern] (см. также разницу в объявлении переменной в cpp и h файле)
- **
- продвинутая обработка исключений: генерация новых исключений во время обработки исключений, сложенные блоки try..catch, ограничения на исключения для функций, ... [Страуструп. Язык программирования С++]
- **
- Простая структура данных (plain old data, POD)
- тип данных array
- почти вся стандартная библиотека (отдельные темы будут рассмотрены позже)
- математическая часть (стандарты C++17 и поздние) стандартной библиотеки [https://en.cppreference.com/w/cpp/numeric, https://en.cppreference.com/w/cpp/numeric/constants ]
- шаблоны (templates) (будут рассмотрены позже)
- работа с файловой системой: получение текущей папки, содержимого папки, атрибутов файлов, ...
- бинарные файлы [https://github.com/VetrovSV/OOP/blob/master/2021-fall/bin-files.md]
- **
- обработка аргументов командной строки (argc, argv) [https://ru.stackoverflow.com/questions/6866/%D0%9A%D0%B0%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%D1%82-argc-%D0%B8-argv]
- системы автоматизации сборки (например cmake)
- менеджеры пакетов
- возможности средств разработки: навигация по коду, рефакторинг, списки задач, интеграция с git, ...
- ситсемы документирования (например doxygen)
- автоматические тесты средствами среды разработки
- Неопределённое поведение (undefined behaviour)
- ошибки компилятора vs ошибки компоновщика
- стек вызовов
- профилирование кода
- оптимизация кода компилятором и ключи компиляции
- управляемый\неуправляемый код (managed\unmanaged code)
***
Рассмотренные на лекциях темы раскрыты не полностью.

<br>

# Практика 7
- Visual Studio. Проект. Решение. Свойства проекта. Переход в папку проекта.
    - Компиляция, режимы. Запуск, режимы.
    - Добавление файлов. Рефакторинг.
- Защита работ.

Чтобы компилировать программы на C++ установите всё необходимое: VS Installer > вкладка Рабочие нагрузки | Разработка классических приложений на C++
	
### Домашняя работа

1. Конспект. Отладка в VS. Точки останова. Режимы выполнения. Просмотр значений переменных. Стек вызовов.
2. Конспект. Файлы и папки проекта VisualStudio. 
3. Изучите дорожную карту изучения C++: https://salmer.github.io/CppDeveloperRoadmap/Russian/


<br>

# Лекция 6
### Домашнее задание
Конспекты:
- Защита от повторного подключения заголовочных файлов. 2 способа
- Этапы компиляции программы на C++
- Рефакторинг. Средства рефакторинга в C++


<br>

# Лекция 5. Анонимные функции. Файловые потоки. Структуры.
октябрь 01
- Передача анонимных функций в другие функции [ [studbook](https://raw.githubusercontent.com/VetrovSV/OOP/master/OOP_StudBook.pdf#section.2.2) ]
- Файловые потоки [ [C++(part2).pdf ](https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%202).pdf#Navigation8) ]
- Константные параметры [ [studbook](https://raw.githubusercontent.com/VetrovSV/OOP/master/OOP_StudBook.pdf#section.1.5) ]
- sizeof [ [studbook](https://raw.githubusercontent.com/VetrovSV/OOP/master/OOP_StudBook.pdf#subsection.1.6.1) ]
- Защита от повторного подключения


# Практика 5
- добавьте функции чтения и записи в файл; учитывайте, что перед чтением из файла нужно подсчитать число цифр в нём. Пример работы с бинарными файлами: [bin-files.md](../2021-fall/bin-files.md)

- Доделайте программу с массивами. Они должна содержать:
    - заполнение, вывод и вычисление по задачнику для классического массива (например float*)
    - заполнение, вывод и вычисление для типа данных vector
    - запись классического массива и vector в файл, чтение из файла; учитывайте, что перед чтением из файла нужно подсчитать число цифр в нём
    - поместите все функции в модуль и пространство имён
    - бросайте и обрабатывайте исключения
    - напишите документацию (в комментариях) и проверьте стиль кодирования


### Дополнительно
- О глобальных переменных, extern, static: https://ravesli.com/urok-49-globalnye-peremennye/#toc-6


### Домашнее задание
Бонус:
Создайте статическую библиотеку из модуля с функциями и подключите её к вашей программе



<br>


# Лекция 4. Git, vector, двумерные массивы, auto, анонимные функции
сентябрь 24
- Git и GitHub
- Анонимные функции (лямбда-выражения) [C++.pdf](https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%201).pdf)
- auto [C++.pdf](https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%201).pdf)
- Двумерные массивы
  - пример [2darray.cpp](2darray.cpp)
- Vector
  - пример [vector.cpp](vector.cpp)
- Файловые потоки (начало) [C++.pdf](https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%202).pdf)


**Сохранение учётных данных GitHub в Windows**
Если у Вас не получается клонировать репозиторий или отправить изменеия в удалённый репозиторий с общественного компьютера, проверьте сохранённые учётные данные.
Диспетчер учётных данных -> Учётные данные Windows. Учётные данные для другого аккаунта GitHub могут блокировать доступ к вашему репозиторию. Удалите эти данные.


**Дополнительно**
- Компиляция статической библиотеки: https://github.com/VetrovSV/OOP/tree/master/examples/example_libs/simple_lib
- Компиляция с помощью MSVC: https://github.com/VetrovSV/OOP/tree/master/examples/example_libs/simple_lib
- Спецификация `noexcept`: https://learn.microsoft.com/ru-ru/cpp/cpp/exception-specifications-throw-cpp?view=msvc-170


# Практика 4
- реализуйте функции работы с массивом, но используйте vector вместо классических массивов



### Домашнее задание
Конспекты:
- синонимы типов с помощью using и typedef
- ключевое слово static
- rvalue и lvalue
- Отчёт по Git: https://raw.githubusercontent.com/VetrovSV/OOP/master/%D0%9E%D0%9E%D0%9F.%20%D0%97%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F%20I.pdf

Сохраняйте исходные коды в универсальной кодировке Unicode: Visual Studio: Tools > Options > Environment > Documents > Save documents as Unicode when data cannot be saved in codepage. Иначе GitHub некорректно отобразит кириллицу. 

### Ссылки
- https://en.cppreference.com/w/cpp/container/vector
- https://en.cppreference.com/w/cpp/language/range-for -- пример перебора элементов динамического массива vector с помощью совместного цикла и auto





<br>

# Лекция 3. Исключительные ситуации. Git
- Обработка исключительных ситуаций: https://github.com/VetrovSV/OOP/blob/master/C%2B%2B%20(part%201).pdf
  - см. пример в Discord
- git: https://raw.githubusercontent.com/VetrovSV/Programming/master/git_lec.pdf


# Практика 3
- Сделайте задачу из 15 строки задачника: https://ivtipm.github.io/Programming/Files/spisocall.htm
  - можно предложить свою задачу с массивами
  - вынесите функции в отдельные файлы
  - создайте пространства имён
  - снабдите код документацией и комментариями


### Домашнее задание
1. Отчёт о создании [скомпилированной] библиотеки из cpp файла
1. Дополните отчёт о компиляции: как использовать компилятор MSVC?
2. Обработка исключительных ситуаций. Несколько catch, catch(...), указание типов бросаемых исключений в функции.




### Ссылки
- https://en.cppreference.com/w/cpp/error/exception -- типы данных стандартной библиотеки для исключений
- http://mycpp.ru/cpp/book/c11.html -- подробнее об исключениях
- https://git-scm.com/


<br>




# Лекция 2. cpp и h файлы. Аргументы функций. Assert.
10 сентября
- Повторение. Объединение пространств имён с одинаковыми именами.
- Вынос функций в отдельный файлы. Заголовочные (.h) и файлы исходного кода (.cpp).
- Передача аргументов в функцию по ссылке. Передача массивов в функцию.
- автоматическое тестирование программы с помощью макроса assert

# Практика 2.
1. Проверка конспекта, отчёта и практической работы.
2. Для предыдущей программы вынесите функцию вычислений в отдельный [условный] модуль
3. Сделайте автоматическое тестирование программы с помощью макроса assert


### Автоматическое тестирование функций
Разбейте программу с предыдущего занятия на функции. Создайте тестовую функцию с помощью оператора assert.
пример
``` C++
#include <iostream>

// раскомментировать строку ниже, чтобы отключить assert()
// #define NDEBUG
#include <cassert>                  // для assert
                                    // все assert отключатся если скомпилировать программу в режиме выпуска (release)

#define _USE_MATH_DEFINES           // вкл. математические константы
#include <math.h>                   // модуль с математическими константами и функциями


// функция вычисления гипотенузы
float calc_c(float a, float b) {
    return sqrt(a*a + b*b);
}

int main(){   

    // проверка работы функции
    // если внутри оператора assert будет ЛОЖЬ, то программа аварийно завершит работу
    // такие проверки позволяют легко заметить  ошибки в коде, особенно когда
    // проверяемые функция во время разработки часто модифицируются, оптимизируются
    assert(fabs(calc_c(3, 4) - 5.0) < FLT_EPSILON);
    // в C++ невозможно корректное сравнение вещественных чисел на равенство без округления
    // например sin(M_PI) = 1.224647e-16, хотя в идеале должен быть 0
    // FLT_EPSILON (1.192092896e-07) -- наименьшее значение числа, которое можно сохранить во float

    assert(fabs(calc_c(1.5, 1) - 1.8027756) < FLT_EPSILON);

    assert(fabs(calc_c(500.0, 501.0) - 707.8142412) < FLT_EPSILON*1000);        // возьмём точность порядка 10^-4


    // далее основная работа программы
    // ...
}

```


### Домашнее задание
1. Конспект: значения аргументов функции по умолчанию.
2. Бонусное задание: _Элипсисиc (переменное число аргументов функции) _
3. Устройство памяти программы. Где хранятся: глобальные переменные, локальные переменные, аргументы функций, динамические переменные?
4. Дополните отчёт о компиляции: как компилировать в командной строке несколько файлов?
5. Доделайте задания практики.





<br>


# Лекция 1. Введение в C++
- Общая характеристика языка, философия
- Директива #include, пространства имён, простые типы данных, ссылки и указатели, статические и динамические массивы.
- Функции

Слайды: https://github.com/VetrovSV/OOP/raw/master/C%2B%2B%20(part%201).pdf

### Домашнее задание
- Конспект: работа с аргументами командной строки в программах на языке C++
- Изучите слайды 1-105.



# Практика 1. Компиляция в командной строке
3 сентября

1. Запустите PowerShell. Изучите переменную окружения Path: выполните команду для отображения переменной среды окружения:
  ```$env:path```\
  Есть ли там путь к компилятору MinGW (GCC)? Если нет, то добавьте через программу настройки "Изменение переменных среды окружения текущего пользователя".
  Если установлен фреимвок Qt, то компилятор MinGW (GCC) можно найти по адресу: `C:\Qt\Tools\mingw810_64\bin`.  Если нет, то компилятор MinGW64 можно скачать здесь: https://www.mingw-w64.org/downloads/: MingW-W64-builds > Installation: GitHub > 
x86_64-XX.X.X-release-posix-xxxxxx.7z 

2. Определите версию С++ компилятора из GCC:\
  ```g++ --version```
3. Создайте в Sublime Text файл с расширением cpp и исходным кодом простой программы на C++:
  ```C++
  #include <iostream>

  using namespace std;

  int main(){
	   cout << "Hello, World!" << endl;
	    return 0;
    }
```
4. Скомпилируйте и запустите программу:\
```g++ имя-файла-с-иходным-кодом -o имя-exe-файла```\
```./имя-exe-файла```


### Задания

**Задание1:** Создайте отчёт о компилировании программ в консоли (PowerShell). Начните с этапа добавления пути к компилятору в переменную среды окружения Path.

**Задание 2.**
Решите любую задачу из первого раздала [задачника](https://ivtipm.github.io/Programming/Files/spisocall.htm) согласно своему варианту или предложить свою задачу.
Создайте отдельную функцию для вычислений.

Критерии оценки: отдельная функция для вычислений, корректные имена, понятный ПИ, есть комментарии и документация.

**Задание 3. Бонусное.**
Выясните как уменьшить размер исполняемого файла, создаваемого компилятором MinGW (GCC). Сделайте конспект.


### Дополнительно

**Математические константы в С++20**
В стандарте С++20 введена библиотека математических констант `numbers`: https://en.cppreference.com/w/cpp/numeric/constants.
```C++
#include <numbers>
using std::numbers::pi;

float pizza_area = pi * 35*35;
```

**Компиляция с указанием версии языка**
```bash
g++ main.cpp -o main.exe -std=c++20
```


** Оптимизация и размер файла **

Размер исполняемого файла после компиляции может показаться избыточным. Это происходит из-за включения в файл всех подключаемых библиотек -- статическая линковка (см. этапы компиляции программы на C++).

#### Настройка вывода
Задать число знаков после запятой при выводе в консоль:
```C++
#include <iomanip>

// вызвать в программе один раз, перед выводом чисел
cout << 3000000.14159265 << ";";			// вывод:3e+06;
cout << setw(12) << fixed << setprecision(2);		// 12 позиций на всё число; человекочитаемый формат (без e); два знака после запятой
cout << 3000000.14159265 << ";";			// вывод:  3000000.14; (2 пробела в начале)
https://www.cplusplus.com/reference/iomanip/setprecision/

# include <string>
// преобразование числа в строку с помощью функции форматирования строки
string s = format("{:.3f}", 3000000.14159265);    // {:.3f} - формат вывода вещественного (f) числа с 3 знаками после запятой
// https://en.cppreference.com/w/cpp/utility/format/format
```

### Ссылки
- https://en.cppreference.com/w/ -- документация С++
- https://habr.com/ru/post/172091/ -- рекомендации по стилю
- С. Макконелл. Совершенный код. §31 Форматирование и стиль. §32 Самодокументирующийся код.
- [Полный список опций компилятора](https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html)
- [GCC x86, как уменьшить размер кода](https://habr.com/ru/company/intel/blog/167417/)

**Дополнительно**
- https://docs.microsoft.com/ru-ru/cpp/build/walkthrough-compiling-a-native-cpp-program-on-the-command-line?view=msvc-160 -- компиляция в командной строке компилятором MSVC
- https://docs.microsoft.com/ru-ru/cpp/build/reference/compiler-command-line-syntax?view=msvc-160 -- Синтаксис командной строки компилятора MSVC

### Вопросы
1. Что такое компилятор?
2. Как запустить программу в консоли, не указывая к ней полный путь?
3. Какие консольные команды вы знаете?
4. Как просмотреть историю введённых команд?

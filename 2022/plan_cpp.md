
# Лекция 3
- struct. Массивы из структур.
- Обработка исключительных ситуаций.
- Файловые потоки.



### Домашнее задание
1. Отчёт о создании [скомпилированной] библиотеки из cpp файла
1. Дополните отчёт о компиляции: как использовать компилятор MSVC?

<br>

# Лекция 2.
10 сентября
- Повторение. Объединение пространств имён с одинаковыми именами. 
- Вынос функций в отдельный файлы. Заголовочные (.h) и файлы исходного кода (.cpp).
- Передача аргументов в функцию по ссылке. Передача массивов в функцию.
- автоматическое тестирование программы с помощью макроса assert

# Практика 2.
1. Проверка конспекта, отчёта и практической работы.
2. Для предыдущей программы вынесите функцию вычислений в отдельный [условный] модуль
3. Сделайте автоматическое тестирование программы с помощью макроса assert


### Автоматическое тестирование функций
Разбейте программу с предыдущего занятия на функции. Создайте тестовую функцию с помощью оператора assert.
пример
``` C++
#include <iostream>

// раскомментировать строку ниже, чтобы отключить assert()
// #define NDEBUG
#include <cassert>                  // для assert
                                    // все assert отключатся если скомпилировать программу в режиме выпуска (release)

#define _USE_MATH_DEFINES           // вкл. математические константы
#include <math.h>                   // модуль с математическими константами и функциями


// функция вычисления гипотенузы
float calc_c(float a, float b) {
    return sqrt(a*a + b*b);
}

int main(){   

    // проверка работы функции
    // если внутри оператора assert будет ЛОЖЬ, то программа аварийно завершит работу
    // такие проверки позволяют легко заметить  ошибки в коде, особенно когда
    // проверяемые функция во время разработки часто модифицируются, оптимизируются
    assert(fabs(calc_c(3, 4) - 5.0) < FLT_EPSILON);
    // в C++ невозможно корректное сравнение вещественных чисел на равенство без округления
    // например sin(M_PI) = 1.224647e-16, хотя в идеале должен быть 0
    // FLT_EPSILON (1.192092896e-07) -- наименьшее значение числа, которое можно сохранить во float

    assert(fabs(calc_c(1.5, 1) - 1.8027756) < FLT_EPSILON);

    assert(fabs(calc_c(500.0, 501.0) - 707.8142412) < FLT_EPSILON*1000);        // возьмём точность порядка 10^-4


    // далее основная работа программы
    // ...
}

```


### Домашнее задание
1. Конспект: значения аргументов функции по умолчанию.
2. Бонусное задание: _Элипсисиc (переменное число аргументов функции) _
3. Устройство памяти программы. Где хранятся: глобальные переменные, локальные переменные, аргументы функций, динамические переменные? 
4. Дополните отчёт о компиляции: как компилировать в командной строке несколько файлов?
5. Доделайте задания практики.


<br>


# Лекция 1. Введение в C++
- Общая характеристика языка, философия
- Директива #include, пространства имён, простые типы данных, ссылки и указатели, статические и динамические массивы.
- Функции

Слайды: https://github.com/VetrovSV/OOP/raw/master/C%2B%2B%20(part%201).pdf

### Домашнее задание
- Конспект: работа с аргументами командной строки в программах на языке C++
- Изучите слайды 1-105.



# Практика 1. Компиляция в командной строке
3 сенятбря

1. Запустите PowerShell. Изучите переменную окружения Path: выполните команду для отображения переменной среды окружения:
  ```$env:path```\
  Есть ли там путь к компилятору MinGW (GCC)? Если нет, то добавьте через программу настройки "Изменение переменных среды окружения текущего пользователя".
  Если установлен фреимвок Qt, то компилятор MinGW (GCC) можно найти по адресу: `C:\Qt\Tools\mingw810_64\bin`.  Если нет, то компилятор MinGW64 можно скачать здесь: https://www.mingw-w64.org/downloads/
  
2. Определите версию С++ компилятора из GCC:\
  ```g++ --version```
3. Создайте в Sublime Text файл с расширением cpp и исходным кодом простой программы на C++:
  ```C++
  #include <iostream>

  using namespace std;

  int main(){
	   cout << "Hello, World!" << endl;
	    return 0;
    }
```
4. Скомпилируйте и запустите программу:\
```g++ имя-файла-с-иходным-кодом -o имя-exe-файла```\
```./имя-exe-файла```


### Задания

**Задание1:** Создайте отчёт о компилировании программ в консоли (PowerShell). Начните с этапа добавления пути к компилятору в переменную среды окружения Path.

**Задание 2.** 
Решите любую задачу из первого раздала [задачника](https://ivtipm.github.io/Programming/Files/spisocall.htm) согласно своему варианту или предложить свою задачу.
Создайте отдельную функцию для вычислений.

Критерии оценки: отдельная функция для вычислений, корректные имена, понятный ПИ, есть комментарии и документация.

**Задание 3. Бонусное.**
Выясните как уменьшить размер исполняемого файла, создаваемого компилятором MinGW (GCC). Сделайте конспект.


### Дополнительно

**Математические константы в С++20**
В стандарте С++20 введена библиотека математических констант `numbers`: https://en.cppreference.com/w/cpp/numeric/constants.
```C++
#include <numbers>
using std::numbers::pi;

float pizza_area = pi * 35*35;
```

**Компиляция с указанием версии языка**
```bash
g++ main.cpp -o main.exe -std=c++20
```



### Ссылки
- https://en.cppreference.com/w/ -- документация С++
- https://habr.com/ru/post/172091/ -- рекомендации по стилю
- С. Макконелл. Совершенный код. §31 Форматирование и стиль. §32 Самодокументирующийся код.
- [Полный список опций компилятора](https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html)
- [GCC x86, как уменьшить размер кода](https://habr.com/ru/company/intel/blog/167417/)

### Вопросы
1. Что такое компилятор?
2. Как запустить программу в консоли, не указывая к ней полный путь?
3. Какие консольные команды вы знаете?
4. Как просмотреть историю введённых команд?

# Лекция 4
### Домашнее задание
Конспект:
- Умные указатели???


# Занятие 4
GUI в Qt?
Защита работ? Система управления версиями git?

### Домашнее задание
- Программа с GUI в Qt?

# Лекция 3
- Слайды: https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%202).pdf
- файловые потоки
- git?
- markdown?


# Занятие 3
- Константные ссылки.
- Защита работ?

Передавайте параметры по ссылке в функцию в двух случаях
- Если нужно изменять параметр внутри функции
- Если копирование параметра при передаче по значению несёт много накладных расходов: больше чем копирование ссылки.

Для того чтобы узнать размер переменной (в байтах) используйте оператор [sizeof](https://en.cppreference.com/w/cpp/language/sizeof)
```C++
    int *arr3;
    vector<int> arr4;

    cout << sizeof (arr3) << endl;  // 8 байт
    cout << sizeof (arr4) << endl;  // 24 байта
```

```C++
    // arr передаётся по ссылке, но переменную запрещено менять внутри функции
    void print_array(const vector<int> &arr);
```

**Дополнительно**
- используйте синонимы для типов
- создайте функции для матрицы (vector) аналогичные массивам
- задавайте ширину столбца при выводе матрицы
- создайте функцию, применяющую переданную в аргументе лямбда-функцию к массиву.
	Пример: функции возведения во вторую степень и замены отрицательных чисел на нули
	```
	int *arr = new int[n];
	apply( arr, n, [](int x){return x*x;} );
	apply( arr, n, [](int x){return 0:x?(x<0);} );
	```
	Функция apply записывает в каждый элемент массива результат работы переданной в неё функции. Переданная функция вычисляется для аргумента -- элемент массива.

### Домашнее задание
- реализуйте функции работы с массивом, но используйте vector вместо классических массивов
- добавьте функции чтения и записи в файл для vector???; учитывайте, что перед чтением из файла нужно подсчитать число цифр в нём.


### ССылки
- http://ci-plus-plus-snachala.ru/?p=11 -- лямбда-функции в C++
- https://ravesli.com/urok-60-psevdonimy-tipov-typedef-i-type-alias/ -- typedef


# Лекция 2
- Слайды: https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%201).pdf
- Исключительные ситуации
- auto (кратко)
- Слайды: https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%202).pdf
- vector
- двумерные массивы



### Домашнее задание
Конспект:
- static
- лямбда-функции (не обязательно)
- синонимы (не обязательно)
- string


### Ссылки
- https://en.cppreference.com/w/cpp/container/vector
- https://habr.com/ru/post/182920/
- https://en.cppreference.com/w/cpp/error/exception -- типы данных стандартной библиотеки для исключений
- http://mycpp.ru/cpp/book/c11.html -- подробнее об исключениях
- https://github.com/VetrovSV/OOP/tree/master/examples/lec_2_1
- https://en.cppreference.com/w/cpp/language/range-for -- пример перебора элементов динамического массива vector с помощью совместного цикла и auto
- https://ravesli.com/urok-94-vvedenie-v-std-array/ -- о типе std::array

# Занятие 2. Assert. Компиляция в командной строке

### Автоматическое тестирование функций
Разбейте программу с предыдущего занятия на функции. Создайте тестовую функцию с помощью оператора assert.
пример
``` C++
#include <iostream>

// расскоментировать строку ниже, чтобы отключить assert()
// #define NDEBUG
#include <cassert>                  // для assert
                                    // все assert отключатся если скомпилировать программу в режиме выпуска (release)

#define _USE_MATH_DEFINES           // вкл. математические константы
#include <math.h>                   // модуль с математическими константами и функциями


// функция вычисления гипотенузы
float calc_c(float a, float b) {
    return sqrt(a*a + b*b);
}

int main(){   

    // проверка работы функции
    // если внутри оператора assert будет ЛОЖЬ, то программа аварийно завершит работу
    // такие проверки позволяют легко заметить  ошибки в коде, особенно когда
    // проверяемые функция во время разработки часто модифицируются, оптимизируются
    assert(fabs(calc_c(3, 4) - 5.0) < FLT_EPSILON);
    // в C++ невозможно корректное сравнение вещественных чисел на равенство без округления
    // например sin(M_PI) = 1.224647e-16, хотя в идеале должен быть 0
    // FLT_EPSILON (1.192092896e-07) -- наименьшее значение числа, которое можно сохранить во float

    assert(fabs(calc_c(1.5, 1) - 1.8027756) < FLT_EPSILON);

    assert(fabs(calc_c(500.0, 501.0) - 707.8142412) < FLT_EPSILON*1000);        // возьмём точность порядка 10^-4


    // далее основная работа программы
    // ...
}

```

### Компиляция в командной строке
1. Запустите PowerShell. Изучите переменную окружения Path: выполните команду для отображения переменной среды окружения:
  ```$env:path```\
  Есть ли там путь к компилятору MinGW (GCC)? Если нет, то добавьте через программу настройки "Изменение переменных среды окружения текущего пользователя".
  Компилятор MinGW можно найти по адресу: C:\Qt\Tools\mingw810_64\bin
2. Определите версию С++ компилятора из GCC:\
  ```g++ --version```
3. Создайте в Sublime Text файл с расширением cpp и исходным кодом простой программы на C++:
  ```C++
  #include <iostream>

  using namespace std;

  int main(){
	   cout << "Hello, World!" << endl;
	    return 0;
    }
```
4. Скомпилируйте и запустите программу:\
```g++ имя-файла-с-иходным-кодом -o имя-exe-файла```\
```./имя-exe-файла```
5. Добавьте модуль с функциями
  - создание случайного массива
  - вывод массива на экран
  - нахождение суммы массива по формуле из задачи: [ivtipm.github.io/Programming/Glava06/index06.htm#z136](https://ivtipm.github.io/Programming/Glava06/index06.htm#z136)\
  Во время компиляции указывайте все cpp файлы.
6. Создайте отчёт о компиляции в командной строке.
7. Закончите работу дома, если не успели на занятии.


**Дополнительно**
- Создайте статическую библиотеку из модуля с функциями и подключите её к вашей программе (см слайды C++ part1)
- Выполните те же операции с компилятором MSVC


#### Вопросы
  1. Для чего нужна переменная среды окружения Path? Как её изменить? Как посмотреть содержимое?
  1. Какие команды (программы) командной строки вы знаете? Как просмотреть содержимое текущей папки? Как сменить текущую папку?
  1. Как называется программа из MinGW (GCC) компилирующая С++ код? Какие параметры есть у этой программы?
  1. Почему компилятору не нужно указывать имена заголовочных (.h) файлов?
  1. Что такое кодовая таблица символов?
  1. Как сгенерировать случайное целое число от 0 до Х? А как в интервале от А до B?
  1. Как инициализировать генератор случайных чисел?



#### Дополнительно
**Кодировка**

Windows не использует кодировку Юникод в командной строке по умолчанию, поэтому вывод символов не из кодовой таблицы ASCII будет сломан. Включить кодирование Юникода UTF-8:
```$OutputEncoding = [console]::InputEncoding = [console]::OutputEncoding = New-Object System.Text.UTF8Encoding```

**Оптимизация и размер файла**

Размер исполняемого файла после компиляции может показаться избыточным. Это происходит из-за включения в файл всех подключаемых библиотек -- статическая линковка (см. этапы компиляции программы на C++).



## Домашнее задание
  - Выполните пункты 1-5 на домашнем компьютере
  - Разберите всё, что не понятно. Напишите комментарии.
  - Напишите документацию к программе в комментариях. В том числе укажите назначение всех подключаемых файлов и укажите автора.
  - Конспект: структура консольного приложения на C++ в VS 2019. Основные файлы проекта. Обозреватель решений. Решение и проект. Добавление новых и существующих файлов. Удаление файлов из проекта и удаление с диска. Компиляция и сборка. Виды сборки.


### Ссылки
- https://en.cppreference.com/w/cpp/error/assert -- страница документации
- https://ravesli.com/urok-109-assert-i-static_assert/
- [Полный список опций компилятора](https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html)
- [GCC x86, как уменьшить размер кода](https://habr.com/ru/company/intel/blog/167417/)
- https://docs.microsoft.com/ru-ru/cpp/build/walkthrough-compiling-a-native-cpp-program-on-the-command-line?view=msvc-160 -- компиляция в командной строке компилятором


# Занятие 1
C++, структура программы, ввод и вывод, пространства имён.

1. Решите первую задачу на языке C++ из задачника по программированию. Используйте среду разработки Visual Studio.
2. Дополнительно: создайте динамический массив, заполните его случайными целыми числами, выведете на экран. Разбейте работу на функции. Поместите их в отдельные h и cpp файлы. Объявите своё пространство имён в этих файлах.

### Домашнее задание
Установите на домашний компьютер:
- Qt Creator  вместе с компилятором MinGW (GCC)
- Visual Studio 2019


### Дополнительные материалы
- https://docs.microsoft.com/ru-ru/visualstudio/ide/whats-new-visual-studio-2019?view=vs-2019


**Вопросы**
1. В чём разница между IDE и компилятором?
2. Какие режимы запуска программы есть в VisualStudio? Чем они отличаются?
3. Как выглядит структура программы на C++?
4. Как подключить библиотеку? Что такое пространство имён?
5. Как работает директива компилятора ```include```?
6. Как объявляются переменные в C++?
7. Как выводить данные в консоль? Как запрашивать ввод с клавиатуры?


# Лекция 1. C++
- Краткие сведения о синтаксисе C++
- Слайды: https://raw.githubusercontent.com/VetrovSV/OOP/master/C%2B%2B%20(part%201).pdf
- Слайды: 1-75


### Домашнее задание
Конспект на тему:
- include guard в GCC и MSVC
- перечисляемый тип в C++
- ссылки на функции в C++ с использованием using
- элипсис в C++ (не обязательно)

Конспекты можно делать в Ворде, но рекомендуется использовать markdown и загружать на github.

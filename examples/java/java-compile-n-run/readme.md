# Компиляция и запуск приложений написанных на Java

Существует несколько реализаций Java: JDK от Oracle, OpenJDK от Oracle
Реализация включает в себя:
- компилятор Java (javac),
- стандартные библиотеки классов Java,
- примеры, документацию,
- различные утилиты
- исполнительную систему Java (JRE)

## Программа из одного файла
Программа
```java
public class Main {
    public static void main(String[] args) {
        System.out.println("Hello World!");}
    }
```

Далее предполагается, что путь к исполняемым файлам JDK указан в переменной среды окружения PATH



1. Компиляция
  ```bash
  javac Main.java
  ```
  После компиляции появится .class файл  -- этот файл содержит байт-код, который может быть выполнен виртуальной машиной Java -- Java Runtime Enviroment (JRE)

1. Выполнение
```bash
java Main
```
`java` -- название исполняемого файла JRE.


## Программа из нескольких файлов
Программы из нескольких файлов упаковываются в zip архив (возможно с нулевым сжатием) -- jar файл.

В такой архив можно поместить не только файлы с байт-кодом (.class) но и исходные коды, любые другие файлы необходимые программе.

Jar файлы тоже исполняются виртуальной машиной Java.

Для создания такого файла используется программа jar. Типичный пример использования:
```bash
jar cvfe <имя-выходного-файла.jar> <имя-главного-класса> <файлы-для-добавления>
```
Ключи:
- `c` -- create -- создать jar файл
- `f` -- file name -- будет указано имя jar файла
- `v` -- verbose -- показывать подробный вывод во время создания файла (можно не указывать)
- `e` -- entry point -- будет указан главный класс программы -- точка входа


#### Пример

Рассмотрим программу, состоящую из нескольких файлов
```
com\jokes_app\Jokes.java   
com\jokes_app\Main.java     -- основной файл программы, использует Jokes.class
jokes.txt                   -- файл необходимый для работы программы
```



1. Компиляция
```bash
javac Main.java
```
Зависимые файлы исходных кодов не указываются, компилятор обнаружит их сам в текущей папке или в папках, соответствующих пакетам.

2. Создание файла jar
В основной папке проекта:
```bash
jar -cvfe jokes.jar com.jokes_app.Main .
```
последний параметр -- точка -- указание на то, что в архив нужно добавить все файлы в текущей папке. В архив будут добавлены, в том числе файлы исходных кодов, хотя это и не обязательно.

3. Запуск
```bash
java -jar jokes.jar
```

Исходные файлы примера приведены в папке [java-compile-n-run](examples\java\java-compile-n-run)

# Компиляция статический библиотеки
Исходные коды:
 - `main.cpp` -- основной файл программы
 - `random_names.h`, `random_names.cpp` -- исходные коды статический библиотеки


Подготовим заранее папку `lib` для хранения скомпилированного файла статический библиотеки.

Создание статический библиотеки:
 ```bash
g++ -c random_names.cpp -o lib/random_names.o
ar rcs lib/random_names.a lib/random_names.o
 ```
Ключ `-c` -- создать объектный файл, но не линковать. Линковка не нужна, так как статическая библиотека далее будет включена в исполняемый файл главной программы.

Статическая библиотека -- это архив из объектных файлов, который создаётся программой `ar`. `-c` -- создать архив, '-r' -- добавить новые файлы в архив (с заменой старых, если они были), `-s` -- добавить индекс объектного файла 

В итоге имеем два файла библиотеки:
- `random_names.h`
- `random_names.a` -- скомпилированный cpp файл.

# Компиляция программы с включением статической библиотеки
Статическая библиотека при компиляции указывается в ряду остальных файлов исходного кода
```bash
g++ main.cpp lib/random_names.a -o main.exe
```

### Создание статической библиотеки в Qt Creator
Шаблон проекта: Бибблиотека | С++ библиотека > ... > Project Details:
   type = static library 
   Qt module = None (если не будт использоватся библиотеки Qt)
   
По умолчанию создаются заголовочный файл с заготовкой класса. Этот код можно убрать.


### Подключение статической библиотеки в Qt Creator
ПКМ на проекте > Add library > Выбрать "Внешняя библиотека" > Выбрать lib файл и папку с .h файлом

См. как изменится .pro файл после добавления библиотеки

### Подключение статической библиотеки в VisualStudio
1. Добавить пусть к заголовочнуму файлу библиотеки (если не в папке проекта): Project Properties > C/C++ > General > Additional Include Directories

1. Указать файл статической библиотеки (.lib в Windows): Project Properties > Linker > Input 



# Дополнительно
-  Создание и подключение статической библиотеки в Visual Studio: https://docs.microsoft.com/ru-ru/cpp/build/walkthrough-creating-and-using-a-static-library-cpp?view=msvc-160


